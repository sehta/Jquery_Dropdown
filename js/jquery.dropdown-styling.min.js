!function(e){e.fn.dropdownstyle=function(t){var i=["green","blue"],o=e.extend({theme:"green",is_search:!1,complete:null,on_change:null,is_hide:!0},t);return this.each(function(){if(e(this).is("select")){o.theme=o.theme.trim().toLowerCase(),-1==jQuery.inArray(o.theme,i)&&(o.theme="green");var t=[];e(this).children().each(function(){e(this).is("option")?t.push({optgroup:"0",value:e(this).val(),text:e(this).text()}):t.push({optgroup:"1",value:e(this).val(),text:e(this).text()})}),outer=e("<div>").attr("class","dropdown_simple "+o.theme),sel=e("<ul>"),span=e("<span>").attr("class","dropdown_selected "+o.theme),e(span).append('<img src="images/arrow-down.png"/><a href="javascript:;"></a>'),index=0,e(t).each(function(t,i){0==index&&"0"==this.optgroup&&(index=1,span.find("a").text(this.text)),li=e("<li>"),"1"==this.optgroup?li.append("<h2>"+this.text+"</h2>"):li.append('<a data-dropdown="'+this.value+'" href="javascript:;">'+this.text+"</a>"),sel.append(li)}),e(this).replaceWith(e(outer)),e(outer).append(sel),e(sel).before(span),1==o.is_search&&(e(sel).prepend('<h1><input class="dropdown_search '+o.theme+'" type="text" autocomplete="off" autocorrect="off" autocapitalize="off"/></h1>'),e(sel).find(".dropdown_search").on("keyup",function(t){rows=e(sel).find("li").hide(),value="",""!=e(this).val().trim()?(value=e(this).val().trim().toLowerCase(),rows.each(function(){var t=e(this).find("a").text().trim().toLowerCase();t.indexOf(value)>-1&&e(this).show()})):rows.show()})),e(".dropdown_selected").off("click"),e(".dropdown_simple").find("ul li a").off("click"),e(document).off("click"),e(".dropdown_selected").on("click",function(t){t.stopPropagation(),e(".dropdown_simple").find("ul").slideUp(),e(this).next("ul").slideToggle()}),e(".dropdown_simple").find("ul li a").on("click",function(t){t.stopPropagation(),e(this).parents("ul").prev("span").find("a").text(e(this).text()),e.isFunction(o.on_change)&&(obj={value:e(this).attr("data-dropdown"),text:e(this).text()},o.on_change.call(this,obj)),1==o.is_hide&&e(this).parents("ul").slideToggle()}),e(document).on("click",function(t){e(t.target).is(e(span))||e(t.target).is(e(span).next("ul"))||e(t.target).is(e(sel).find(".dropdown_search"))||e(t.target).is(e(span).children())||e(".dropdown_simple ul").slideUp()}),e.isFunction(o.complete)&&o.complete.call(this)}})}}(jQuery);